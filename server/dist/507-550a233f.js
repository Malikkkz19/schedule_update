"use strict";(self.webpackChunkschedule_viewer=self.webpackChunkschedule_viewer||[]).push([[507],{9507:(e,t,n)=>{n.r(t),n.d(t,{default:()=>J});var r=n(5861),a=n(885),i=n(4687),s=n.n(i),l=n(8502),c=n(1762),o=n(7294),u=n(3379),d=n.n(u),f=n(7795),x=n.n(f),m=n(569),h=n.n(m),p=n(3565),g=n.n(p),v=n(9216),b=n.n(v),j=n(4589),y=n.n(j),w=n(3065),k={};k.styleTagTransform=y(),k.setAttributes=g(),k.insert=h().bind(null,"head"),k.domAPI=x(),k.insertStyleElement=b(),d()(w.Z,k);const Z=w.Z&&w.Z.locals?w.Z.locals:void 0;var z={center:Z.center,left:Z.left,right:Z.right,justify:Z.justify},C={primary:Z.primary,error:Z.error,warning:Z.warning},N={large:Z.large,medium:Z.medium,small:Z.small},W={large:"h1",medium:"h2",small:"h3"},A=n(5893),_=(0,o.memo)((function(e){var t=e.className,n=e.title,r=e.text,a=e.align,i=void 0===a?"left":a,s=e.size,c=void 0===s?"medium":s,o=e.variant,u=W[c],d=[t,C[void 0===o?"primary":o],z[i],N[c]];return(0,A.jsxs)("div",{className:(0,l.A)(Z.Text,{},d),children:[n&&(0,A.jsx)(u,{className:Z.title,children:n}),r&&(0,A.jsx)("p",{className:Z.text,children:r})]})})),S=n(6833),T=n(8918),I=n(9403),L=n(3329),P=n(6094),D=n(7547),E=n(4813),M=n(2552),R=n(4710),U=n(4492),K={};K.styleTagTransform=y(),K.setAttributes=g(),K.insert=h().bind(null,"head"),K.domAPI=x(),K.insertStyleElement=b(),d()(U.Z,K);const O=U.Z&&U.Z.locals?U.Z.locals:void 0,J=(0,o.memo)((function(e){var t=e.className,n=(0,o.useState)(""),i=(0,a.Z)(n,2),u=i[0],d=i[1],f=(0,o.useState)(),x=(0,a.Z)(f,2),m=x[0],h=x[1],p=(0,o.useState)(""),g=(0,a.Z)(p,2),v=g[0],b=g[1],j=(0,S.PD)(),y=j.data,w=j.isLoading,k=j.refetch,Z=(0,S.dM)(),z=Z.data,C=Z.isLoading,N=Z.refetch,W=(0,S.tJ)(),U=(0,a.Z)(W,1)[0],K=(0,S.kA)(),J=(0,a.Z)(K,1)[0],$=(0,S.E6)(),q=(0,a.Z)($,1)[0],B=(0,S.$c)(),F=(0,a.Z)(B,1)[0],G=(0,o.useCallback)(function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,U(u);case 3:return e.next=5,k();case 5:d("");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[U,u,k]),H=(0,o.useCallback)(function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),null!=m&&m._id){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,F({parentKafId:null==m?void 0:m._id,audsTitles:v.split("\n")});case 5:return e.next=7,N();case 7:h(null),b("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[v,N,F,null==m?void 0:m._id]),Q=(0,o.useCallback)(function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J({kafId:t});case 2:return e.next=4,k();case 4:return e.next=6,N();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[J,k,N]),V=(0,o.useCallback)(function(){var e=(0,r.Z)(s().mark((function e(t){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q({audId:t});case 2:return e.next=4,N();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[q,N]),X=(0,o.useCallback)((function(e){h(e.value)}),[]);return(0,A.jsxs)(c.T,{className:(0,l.A)(O.ManageKafsPage,{},[t]),children:[(0,A.jsx)(_,{size:"large",title:"Управление кафедрами и аудиториями"}),(0,A.jsx)(T.i,{className:O.divider,children:(0,A.jsx)(_,{title:"Добавленные кафедры"})}),(0,A.jsxs)(L.g,{maxW:!0,gap:"8",className:O.kafsWrapper,children:[w&&new Array(5).fill(0).map((function(e,t){return(0,A.jsx)(R.O,{width:"100%",height:"60px",borderRadius:"8px"},t)})),(null==y?void 0:y.length)&&!w&&y.map((function(e){return(0,A.jsxs)(L.U,{maxW:!0,justify:"between",children:[(0,A.jsx)(_,{title:e.title}),(0,A.jsx)(I.z,{onClick:function(){return Q(e._id)},severity:"danger",size:"small",text:!0,children:"Удалить"})]},e._id)})),!w&&!(null!=y&&y.length)&&(0,A.jsx)(_,{title:"Пока ничего нет"})]}),(0,A.jsx)("form",{className:O.form,onSubmit:G,children:(0,A.jsxs)(L.g,{maxW:!0,gap:"8",children:[(0,A.jsx)(D.v,{style:{width:"100%"},severity:"warn",text:'Название кафедры в формате "Номер | Название"'}),(0,A.jsxs)(L.U,{maxW:!0,gap:"16",children:[(0,A.jsx)(P.o,{value:u,onChange:function(e){return d(e.target.value)},placeholder:"Введите номер и название кафедры",style:{width:"50%"}}),(0,A.jsx)(I.z,{disabled:!u,children:"Добавить кафедру"})]})]})}),(0,A.jsx)(T.i,{className:O.divider,children:(0,A.jsx)(_,{title:"Добавленные аудитории"})}),(0,A.jsxs)(L.g,{maxW:!0,gap:"8",className:O.kafsWrapper,children:[C&&new Array(5).fill(0).map((function(e,t){return(0,A.jsx)(R.O,{width:"100%",height:"60px",borderRadius:"8px"},t)})),(null==z?void 0:z.length)&&!C&&z.map((function(e){return(0,A.jsxs)(L.U,{maxW:!0,justify:"between",children:[(0,A.jsx)(_,{title:e.title}),(0,A.jsx)(I.z,{onClick:function(){return V(e._id)},severity:"danger",size:"small",text:!0,children:"Удалить"})]},e._id)})),!C&&!(null!=z&&z.length)&&(0,A.jsx)(_,{title:"Пока ничего нет"})]}),(0,A.jsx)("form",{className:O.form,onSubmit:H,children:(0,A.jsxs)(L.g,{maxW:!0,gap:"8",children:[(0,A.jsx)(M.g,{autoResize:!0,cols:35,rows:5,value:v,onChange:function(e){return b(e.target.value)},placeholder:"Введите номера аудитории (по одному на строку)",style:{width:"50%"}}),(0,A.jsx)(E.L,{style:{width:"50%"},value:m,onChange:X,options:y,optionLabel:"title",emptyMessage:"Ничего не найдено",placeholder:"Введите кафедру, за которой закреплены аудитории"}),(0,A.jsx)(I.z,{disabled:!(null!=v&&v.length&&m),children:"Добавить аудитории"})]})})]})}))},4492:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,".d875c{margin-top:32px}.b41a7{width:100%;margin-top:16px}.e781d{padding:10px;max-height:250px;overflow-y:auto}",""]),s.locals={divider:"d875c",form:"b41a7",kafsWrapper:"e781d"};const l=s},3065:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(8081),a=n.n(r),i=n(3645),s=n.n(i)()(a());s.push([e.id,".f3118,.f9a74{color:var(--primary-color);font-family:var(--font-family-main)}.abbc4{text-align:center}.c7532{text-align:left}.d65b1{text-align:right}.cb2fd{text-align:justify}.c4ffa{color:var(--secondary-color)}.b87d2{color:red}.cef49{color:#ff8c00}.ba4ae .f3118{font:var(--font-l);font-weight:bold}.ba4ae .f9a74{font-size:22px}.cb287 .f3118{font:var(--font-m);font-weight:bold}.cb287 .f9a74{font-size:18px}.d52e1 .f3118{font:var(--font-s);font-weight:bold}.d52e1 .f9a74{font-size:14px}",""]),s.locals={title:"f3118",text:"f9a74",center:"abbc4",left:"c7532",right:"d65b1",justify:"cb2fd",primary:"c4ffa",error:"b87d2",warning:"cef49",large:"ba4ae",medium:"cb287",small:"d52e1"};const l=s}}]);